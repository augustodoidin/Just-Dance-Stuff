import os
cwd = os.getcwd()

avatarid = 1 
for avatarname in os.listdir(cwd+"\\input"):
    str_avatarid = str(avatarid).zfill(4)
    print(avatarname + " - " + str_avatarid)
    os.mkdir("output\\avatars\\"+ str_avatarid)
    os.rename(cwd + "\\input\\" + avatarname, cwd + "\\output\\avatars\\"+str_avatarid+"\\avatar.png.ckd")
    
    with open(cwd + "\\output\\avatars\\"+str_avatarid+"\\desc.tpl.ckd", 'wb') as avtrdesc:
        avtrdesc.write(b'\x00\x00\x00\x01\x00\x00\x03\xDB\x1B\x85\x7B\xCE\x00\x00\x00\x6C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\xF9\xBE\x08\x2F\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3F\xE6\x66\x66\x3E\x99\x99\x9A\x00\x00\x01\x34\x00\x00\x00\x24\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\x3F\x80\x00\x00\x40\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x34\x00\x00\x00\x24\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\x3F\x80\x00\x00\x3F\x80\x00\x00\x3F\x80\x00\x00\x3F\x80\x00\x00\x00\x00\x00\x00\x27\xC6\xD3\x39\x00\x00\x00\x54\x00\x00\x07\xE4\x00\x00\x00\x00\x00\x00\x00\x08')
        encname = (str_avatarid + ".act").encode()
        avtrdesc.write(encname)
        avtrdesc.write(b'\x00\x00\x00\x13')
        pathname = ("world/avatars/"+str_avatarid+"/").encode()
        avtrdesc.write(pathname)
        avtrdesc.write(b'\xFF\xFF\xFF\xFF\x00\x00\x00\x00')
        avtrdesc.write(avatarid.to_bytes(4, 'big'))
        avtrdesc.write(b'\x00\x00\x00\x03\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01')

    with open(cwd + "\\output\\avatars\\"+str_avatarid+"\\" + str_avatarid + ".act.ckd", 'wb') as avtract:
        avtract.write(b'\x00\x00\x00\x01\x00\x00\x00\x00\x3F\x80\x00\x00\x3F\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x08\x64\x65\x73\x63\x2E\x74\x70\x6C\x00\x00\x00\x13\x77\x6F\x72\x6C\x64\x2F\x61\x76\x61\x74\x61\x72\x73\x2F')
        avtract.write(str_avatarid.encode())
        avtract.write(b'\x2F\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x72\xB6\x1F\xC5\x3F\x80\x00\x00\x3F\x80\x00\x00\x3F\x80\x00\x00\x3F\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0A\x61\x76\x61\x74\x61\x72\x2E\x70\x6E\x67\x00\x00\x00\x13\x77\x6F\x72\x6C\x64\x2F\x61\x76\x61\x74\x61\x72\x73\x2F')
        avtract.write(str_avatarid.encode())
        avtract.write(b'\x2F\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0A\x61\x76\x61\x74\x61\x72\x2E\x61\x74\x6C\x00\x00\x00\x0F\x77\x6F\x72\x6C\x64\x2F\x75\x69\x2F\x61\x74\x6C\x61\x73\x2F\x0A\x6F\x64\x68\x00\x00\x00\x00\x00\x00\x00\x09\x61\x6C\x70\x68\x61\x2E\x6D\x73\x68\x00\x00\x00\x1B\x77\x6F\x72\x6C\x64\x2F\x75\x69\x2F\x6D\x61\x74\x65\x72\x69\x61\x6C\x73\x2F\x5F\x63\x6F\x6D\x6D\x6F\x6E\x2F\x74\x62\xE0\x51\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3F\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x17\x59\xE2\x9D')

    avatarid = avatarid + 1

avatarid = avatarid - 1

avtrsku = open("output\\avatarsku.enc", "wb")
avtrsku.write(b'\x00\x00\x00\x01\x00\x04\x90\x5D\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
avtrsku.write(avatarid.to_bytes(4, 'big'))
for i in range(avatarid):
    str_avatarid = str(i+1).zfill(4)
    avtrsku.write(b'\x97\xCA\x62\x8B\x38\xFF\xDA\x40\x3F\x80\x00\x00\x3F\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04')
    avtrsku.write(str_avatarid.encode())
    avtrsku.write(b'\xFF\xFF\xFF\xFF\xC2\x77\xFA\x10\x42\x17\xF6\x8C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x08\x64\x65\x73\x63\x2E\x74\x70\x6C\x00\x00\x00\x13\x77\x6F\x72\x6C\x64\x2F\x61\x76\x61\x74\x61\x72\x73\x2F')
    avtrsku.write(str_avatarid.encode())
    avtrsku.write(b'\x2F\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x72\xB6\x1F\xC5\x3F\x80\x00\x00\x3F\x80\x00\x00\x3F\x80\x00\x00\x3F\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x7F\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0A\x61\x76\x61\x74\x61\x72\x2E\x70\x6E\x67\x00\x00\x00\x13\x77\x6F\x72\x6C\x64\x2F\x61\x76\x61\x74\x61\x72\x73\x2F')
    avtrsku.write(str_avatarid.encode())
    avtrsku.write(b'\x2F\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0A\x61\x76\x61\x74\x61\x72\x2E\x61\x74\x6C\x00\x00\x00\x0F\x77\x6F\x72\x6C\x64\x2F\x75\x69\x2F\x61\x74\x6C\x61\x73\x2F\x0A\x6F\x64\x68\x00\x00\x00\x00\x00\x00\x00\x09\x61\x6C\x70\x68\x61\x2E\x6D\x73\x68\x00\x00\x00\x1B\x77\x6F\x72\x6C\x64\x2F\x75\x69\x2F\x6D\x61\x74\x65\x72\x69\x61\x6C\x73\x2F\x5F\x63\x6F\x6D\x6D\x6F\x6E\x2F\x74\x62\xE0\x51\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3F\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x17\x59\xE2\x9D')
avtrsku.write(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\xF8\x78\xDC\x2D\x00\x00\x00\x00\x00\x00\x00\x04\x4E\x43\x53\x41\x00\x00\x00\x00\x00\x00\x00\x00\xFF\xFF\xFF\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01')
avtrsku.close()
    
        
    
